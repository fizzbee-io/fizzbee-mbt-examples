// Code generated by fizzbee-mbt generator; DO NOT EDIT.

import { runTests, ActionFunc } from '@fizzbee/mbt';
import { TodoModelRole, TodoViewRole, TodoControllerRole, TodomvcModel } from './todomvc_interfaces.js';
import { newTodomvcModel, getTestOptions } from './todomvc_adapters.js';

// Registry keyed by role type ("" means top-level model actions)
const actionRegistry = new Map<string, Map<string, ActionFunc>>([
  ['', new Map<string, ActionFunc>([
  ])],
  ['TodoModel', new Map<string, ActionFunc>([
  ])],
  ['TodoView', new Map<string, ActionFunc>([
  ])],
  ['TodoController', new Map<string, ActionFunc>([
    ['UserAddsItem', async (inst: any, args: any[]) => {
      return (inst as TodoControllerRole).actionUserAddsItem(args);
    }],
    ['UserSwitchesFilter', async (inst: any, args: any[]) => {
      return (inst as TodoControllerRole).actionUserSwitchesFilter(args);
    }],
    ['UserTogglesItem', async (inst: any, args: any[]) => {
      return (inst as TodoControllerRole).actionUserTogglesItem(args);
    }],
    ['UserTogglesAll', async (inst: any, args: any[]) => {
      return (inst as TodoControllerRole).actionUserTogglesAll(args);
    }],
    ['UserDeletesItem', async (inst: any, args: any[]) => {
      return (inst as TodoControllerRole).actionUserDeletesItem(args);
    }],
    ['UserEditsItem', async (inst: any, args: any[]) => {
      return (inst as TodoControllerRole).actionUserEditsItem(args);
    }],
    ['UserClearsCompleted', async (inst: any, args: any[]) => {
      return (inst as TodoControllerRole).actionUserClearsCompleted(args);
    }],
  ])],
]);

async function testTodomvc(): Promise<void> {
  const model = newTodomvcModel();
  const options = getTestOptions();

  try {
    await runTests(model, actionRegistry, options);
    model.cleanupAll();
  } catch (error) {
    console.error('Test failed:', error);
    process.exit(1);
  }
}

// Run tests
testTodomvc();