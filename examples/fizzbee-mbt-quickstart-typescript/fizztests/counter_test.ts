// Code generated by fizzbee-mbt generator; DO NOT EDIT.

import { runTests, ActionFunc } from '@fizzbee/mbt';
import { CounterRole, CounterModel } from './counter_interfaces.js';
import { newCounterModel, getTestOptions } from './counter_adapters.js';

// Registry keyed by role type ("" means top-level model actions)
const actionRegistry = new Map<string, Map<string, ActionFunc>>([
  ['', new Map<string, ActionFunc>([
  ])],
  ['Counter', new Map<string, ActionFunc>([
    ['Inc', async (inst: any, args: any[]) => {
      return (inst as CounterRole).actionInc(args);
    }],
    ['Get', async (inst: any, args: any[]) => {
      return (inst as CounterRole).actionGet(args);
    }],
    ['Dec', async (inst: any, args: any[]) => {
      return (inst as CounterRole).actionDec(args);
    }],
  ])],
]);

async function testCounter(): Promise<void> {
  const model = newCounterModel();
  const options = getTestOptions();

  try {
    await runTests(model, actionRegistry, options);
  } catch (error) {
    console.error('Test failed:', error);
    process.exit(1);
  }
}

// Run tests
testCounter();